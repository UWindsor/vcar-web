# Meant for Linux  
sudo apt update
sudo apt install autoconf bison build-essential libssl-dev libyaml-dev libreadline6-dev zlib1g-dev libncurses5-dev libffi-dev libgdbm-dev libsqlite3-dev
git clone https://github.com/rbenv/rbenv.git ~/.rbenv
echo 'export PATH="$HOME/.rbenv/bin:$PATH"' >> ~/.bashrc
echo 'eval "$(rbenv init -)"' >> ~/.bashrc
source ~/.bashrc
git clone https://github.com/rbenv/ruby-build.git ~/.rbenv/plugins/ruby-build

if ! [ -f "$(which rbenv)" ]; then
  echo "It looks like you don't have rbenv installed"
  echo "Check out https://github.com/rbenv/rbenv#installation to get it running on your system"

  exit 1
fi

rbenv install 2.4.2
rbenv global 2.4.2 && rbenv rehash

echo "===> Installing gem files..."
gem install bundler
echo "Running bundle install"
bundle install

echo "===> Preparing database..."
rails db:setup
